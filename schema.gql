# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Tag {
  id: ID!
  label: String!
  description: String
  created_at: Timestamp!
  updated_at: Timestamp!
}

"""
`Date` type as integer. Type represents date and time as number of milliseconds from start of UNIX epoch.
"""
scalar Timestamp

type Category {
  id: ID!
  label: String!
  alias: String
  description: String
  created_at: Timestamp!
  updated_at: Timestamp!
  delete_at: Timestamp!
  children: [Category!]
  parent: Category
}

type Medium {
  id: ID!
  name: String!
  alias_name: String!
  posters: [String!]
  description: String
  duration: Float
  preview_url: String
  url: String!
  low_quality_url: String
  medium_quality_url: String
  high_quality_url: String
  super_quality_url: String
  created_at: Timestamp!
  updated_at: Timestamp!
  delete_at: Timestamp!
  version: Float!
}

type User {
  uid: ID!
  username: String!
  password: String!
  email: String!
  nickname: String
  avatar: String
  mobile: String
  address: String
  description: String
  create_at: Timestamp!
  update_at: Timestamp!
  delete_at: Timestamp!
}

type Bullet {
  id: ID!
  content: String!
  point: Float
  create_at: Timestamp!
  author: User!
  media: Medium!
}

type UserEdge {
  cursor: String!
  node: User!
}

type UserPaginated {
  edges: [UserEdge!]
  nodes: [User!]
  totalCount: Int!
  hasNextPage: Boolean!
}

type Query {
  me: User!

  """find user by uid."""
  user(uid: String!): User!

  """all user with paginated."""
  users_paginated(after: String, first: Int): UserPaginated!
}

type Mutation {
  create_tag(tag: CreateTagInput!): Tag!
  create_category(category: CreateCategoryInput!): Category!
  delete_category(id: ID!): Boolean!
  create_bullet(bullet: CreateBulletInput!): Bullet!
  login(password: String!, username: String!): String!

  """create user."""
  create_user(user: CreateUserInput!): User!

  """create user with verif code."""
  create_user_with_code(user: CreateUserWithCodeInput!): User!
  send_register_email(email: String!): Boolean!
  update_user(user: UpdateUserInput!): String!
}

input CreateTagInput {
  label: String!
  description: String
}

input CreateCategoryInput {
  label: String!
  alias: String
  description: String
  parent_id: Float
  children: [CreateCategoryInput!]
}

input CreateBulletInput {
  content: String!
  point: Float
  medium_id: Int!
}

input CreateUserInput {
  username: String!
  password: String!
  email: String!
  nickname: String
  avatar: String
  mobile: String
  address: String
  description: String
}

input CreateUserWithCodeInput {
  username: String!
  password: String!
  email: String!
  nickname: String
  avatar: String
  mobile: String
  address: String
  description: String
  code: String!
}

input UpdateUserInput {
  nickname: String
  avatar: String
  mobile: String
  address: String
  description: String
  password: String
}

type Subscription {
  user_created: User!
}
